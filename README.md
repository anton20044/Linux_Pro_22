Лабораторная работа №22 по курсу Linux Pro.

Задание:

Поднять три виртуалки
Объединить их разными vlan
поднять OSPF между машинами на базе Quagga;
изобразить ассиметричный роутинг;
сделать один из линков "дорогим", но что бы при этом роутинг был симметричным.


Решение:

Подготовлен стенд, состоящий из трех виртуальных машин. По умолчанию стенд настраивается с ассиметричный роутингом между router1 и router2.
Это можно увидеть при выполнении команды ping -I 192.168.10.1 192.168.20.1 с ВМ router1. И просмотром траффика на router2 (tcpdump -i enp0s9 и tcpdump -i enp0s8), пакеты ICMP приходят на один интерфейс, ответ идет с другого интерфейса.

Если запустить плейбук с экстра варсом ansible-playbook -i ansible/hosts -e symmetric_routing=true ansible/provision.yml, то на router2 у интерфейса enp0s8 увеличивается стоимость, соответственно роутинг становится симметричным.

Разворачивание ВМ и их настройка с помощью vagrant и ansible.